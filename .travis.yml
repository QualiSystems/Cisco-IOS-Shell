language: python
python:
- '2.7'

install:
    - pip install coveralls
    - 'if [ ${TRAVIS_BRANCH} = "master" ]; then
            pip install -r package/requirements.txt;
            pip install -r cisco_ios_shell/requirements.txt;
        else
            pip install -r package/dev_requirements.txt;
            pip install -r cisco_ios_shell/dev_requirements.txt;
        fi'
    - pip install -r package/test_requirements.txt
    - pip install -r cisco_ios_shell/test_requirements.txt
    - python package/setup.py develop --no-deps

script:
    - nosetests --with-coverage --cover-package=src --cover-package=cloudshell.networking.cisco.ios --where=./ --where=package/tests/ --where=cisco_ios_shell/tests

after_success:
    - coveralls